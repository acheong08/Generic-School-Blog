{% extends 'admin/base.html' %}

{% block title %}Admin | Edit post{% endblock %}

{% block head %}
<link rel="stylesheet" href="/static/css/simplemde-theme-dark.min.css">
<script src="/static/js/simplemde.min.js"></script>
{% endblock %}

{% block content %}
<!--Heading-->
<div class="container">
  <div class='container-sm'>
    <h1>Edit post</h1>
  </div>
  <!--Form-->
  <div class="container">
    <form action="#" method="post" enctype="multipart/form-data">
      <input type="hidden" name="action" value="edit">
      <h6>Title: </h6>
      <input type="text" name="post_title" placeholder="Title" id="title" value="{{post_data['title']}}"/>
      <br>
      <h6>Description: </h6>
      <textarea name="post_description" id='description' placeholder="Description" rows='5' cols="80" maxlength="400">{{post_data['description']}}</textarea>
      <br>
      <h6>Department: </h6>
      <select name="post_department" id="department">
        <option value="{{post_data['department']}}">{{post_data['department']}}</option>
        <option value="Generic">Generic</option>
        <option value="STT">Student Tech Team</option>
        <option value="UNC">UN Committee</option>
        <option value="SC">Student Council</option>
      </select>
      <br>
      <h6>Markdown content: </h6>
      <textarea name="post_content" rows="15" cols="100" id="markdown_editor">{{markdown_content}}</textarea>
      <br><br>
      <input type='submit' class='btn btn-primary' value='Submit' />
    </form>
    <br><br>
    <form action="#" method="post">
      <input type="hidden" name="action" value="delete">
      <input class="btn btn-danger btn-outline-warning" type="submit" value="Delete post">
    </form>
  </div>
</div>
<script>
var simplemde = new SimpleMDE({ element: document.getElementById("markdown_editor") });
</script>
{% endblock %}
